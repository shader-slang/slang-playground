<!DOCTYPE html>
<html>
  <head>
    <title>Page Title</title>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1"
    />
    <link href="./styles/styles.css" rel="stylesheet" />
    <script src="https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/loader.js"></script>
    <script>
      require.config({
        paths: {
          vs: "https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs",
        },
      });
      window.MonacoEnvironment = { getWorkerUrl: () => proxy };
      let proxy = URL.createObjectURL(
        new Blob(
          [
            `
              self.MonacoEnvironment = {
                  baseUrl: 'https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/'
              };
              importScripts('https://microsoft.github.io/monaco-editor/node_modules/monaco-editor/min/vs/base/worker/workerMain.js');
          `,
          ],
          { type: "text/javascript" }
        )
      );
    </script>
    <script src="util.js"></script>
    <script src="water_demo.js"></script>
    <script src="pass_through.js"></script>
    <script src="compute.js"></script>
    <script src="try-slang.js"></script>
    <script src="slang-wasm.js"></script>
  </head>
  <body>
    <div class="screenFitter">
      <div class="bannerbar" id="WebGPU-status-bar">WebGPU status</div>

      <!-- Navigation Bar -->
      <div class="navbar">
        <button
          style="background-color: orange"
          id="run-btn"
          onclick="onRun()"
          disabled
        >
          Run
        </button>
        <button
          style="background-color: orange"
          id="compile-btn"
          onclick="onCompile()"
          disabled
        >
          Compile
        </button>
        <a href="#">Link</a>
        <a href="#">Link</a>
        <a href="#">Link</a>
        <a href="#">Link</a>
      </div>

      <div class="mainContainer">
        <div class="workSpace">
          <div class="codingSpace" id="codeEditor"></div>
          <script>
            loadEditor(false, "codeEditor", defaultShaderCode);
          </script>

          <div class="diagnosticSpace" id="diagnostics"></div>
          <script>
            loadEditor(true, "diagnostics", "diagnostic space");
          </script>
        </div>

        <div class="resultSpace">
          <div class="outputSpace" id="output">
            <canvas class="renderCanvas" id="canvas"></canvas>
          </div>
          <div class="codeGenSpace" id="codeGen"></div>
          <script>
            loadEditor(true, "codeGen", "out generation space");
          </script>
        </div>
      </div>
    </div>
  </body>
</html>
